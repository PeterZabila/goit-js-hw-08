{"mappings":"iiBAEA,IAAAA,EAAAC,EAAA,SAEMC,EAAc,sBACdC,EAAW,GAEXC,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,SAC9BE,SAAUH,SAASC,cAAc,aA0BrCH,EAAKC,KAAKK,iBAAiB,UAvB3B,SAA0BC,GACtBA,EAAEC,iBACED,EAAEE,cAAcC,SAASC,MAAMC,MAAQ,GACvCL,EAAEE,cAAcC,SAASG,QAAQD,MAAQ,GAC7CE,aAAaC,WAAWjB,MAoB5BQ,iBAAiB,QATjB,WACI,IAAMU,EAAYC,KAAKC,MAAMJ,aAAaK,QAAQrB,IAC9CsB,OAAOC,KAAKL,GAAWM,KAAI,SAAAC,GACNvB,EAAKC,KAAKE,cAAe,SAAaqB,OAALD,EAAK,MAC9CX,MAAQI,EAAUO,SAMvCvB,EAAKC,KAAKK,iBAAiB,QAASmB,EAAA7B,EAAA,EAlBpC,SAAyBW,GACrB,GAAwB,UAArBA,EAAEmB,OAAOC,SAA4C,aAArBpB,EAAEmB,OAAOC,QAAuB,CAC/D5B,EAASQ,EAAEmB,OAAOH,MAAQhB,EAAEmB,OAAOd,MAC/B,IAAMgB,EAAmBX,KAAKY,UAAU9B,GAC5Ce,aAAagB,QAAQhC,EAAa8B,MAcoB","sources":["src/js/03-feedback.js"],"sourcesContent":["// VARIANT 1\n\nimport throttle from 'lodash.throttle';\n\nconst STORAGE_KEY = 'feedback-form-state';\nconst formData = {};\n\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    input: document.querySelector('input'),\n    textArea: document.querySelector('textarea'),\n};\n\nfunction formSubmitHandle(e) {\n    e.preventDefault();\n        e.currentTarget.elements.email.value = \"\";\n        e.currentTarget.elements.message.value = \"\";\n    localStorage.removeItem(STORAGE_KEY);\n};\n\nfunction anyInputHandler(e) {\n    if(e.target.tagName === \"INPUT\" || e.target.tagName === \"TEXTAREA\"){\n        formData[e.target.name] = e.target.value;\n            const formDataforForLS = JSON.stringify(formData);\n        localStorage.setItem(STORAGE_KEY, formDataforForLS);\n    }\n};\n\nfunction onRefreshHandle() {\n    const objFromLS = JSON.parse(localStorage.getItem(STORAGE_KEY));\n        Object.keys(objFromLS).map(name => {\n           const elFromDom = refs.form.querySelector(`[name=${name}]`);\n           elFromDom.value = objFromLS[name];\n        })\n}\n\nrefs.form.addEventListener('submit', formSubmitHandle);\naddEventListener('load', onRefreshHandle)\nrefs.form.addEventListener('input', throttle(anyInputHandler, 500));\n\n\n\n// const onRefresh = function(e) {\n//     if(localStorage.getItem(STORAGE_KEY)) {\n//         const rawData = localStorage.getItem(STORAGE_KEY);\n//         const parsedJson = JSON.parse(rawData);\n\n//         refs.input.value = parsedJson.email;\n//         refs.textArea.value = parsedJson.message;\n//     }\n// };\n\n// refs.form.addEventListener('input', onRefresh);\n\n\n\n\n\n\n// VARIANT 2\n// import throttle from 'lodash.throttle';\n\n// const STORAGE_KEY = 'feedback-form-state';\n// const formData = {};\n\n// const refs = {\n//     form: document.querySelector('.feedback-form'),\n//     input: document.querySelector('input'),\n//     textArea: document.querySelector('textarea'),\n// };\n\n// const formInputHandle = function() {\n//     formData.email = refs.input.value;\n//     formData.message = refs.textArea.value;\n//         const formDataForLS = JSON.stringify(formData);\n//     localStorage.setItem(STORAGE_KEY, formDataForLS);\n//     console.log(formData); \n// };\n\n// const formSubmitHandle = function(e) {\n//     e.preventDefault();\n//         e.currentTarget.elements.email.value = \"\";\n//         e.currentTarget.elements.message.value = \"\";\n//     localStorage.removeItem(STORAGE_KEY);\n// };\n\n// const getSavedValue = function() {\n//     if(localStorage.getItem(STORAGE_KEY)) {\n//         const one = localStorage.getItem(STORAGE_KEY);\n//         const two = JSON.parse(one);\n//         console.log(two);\n//         refs.input.value = two.email;\n//         refs.textArea.value = two.message;\n//     } else {\n//         refs.input.value = \"\";\n//         refs.textArea.value = \"\";\n//     }\n// }; \n\n\n// window.addEventListener('load', getSavedValue);\n// refs.form.addEventListener('input', throttle(formInputHandle, 500));\n// refs.form.addEventListener('submit', formSubmitHandle);"],"names":["$dCfNN","parcelRequire","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$formData","$b00c40859be242c5$var$refs","form","document","querySelector","input","textArea","addEventListener","e","preventDefault","currentTarget","elements","email","value","message","localStorage","removeItem","objFromLS","JSON","parse","getItem","Object","keys","map","name","concat","$parcel$interopDefault","target","tagName","formDataforForLS","stringify","setItem"],"version":3,"file":"03-feedback.34e2fb5a.js.map"}